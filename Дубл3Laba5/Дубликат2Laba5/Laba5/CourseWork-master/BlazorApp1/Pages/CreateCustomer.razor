@page "/Customer/create"
@using BlazorApp1.Data.Models
@using BlazorApp1.Data.Services
@using BlazorApp1.Data.DTOs
@inject NavigationManager _navigationManager

<div class="container-fluid">
    <div class="break-min"></div>
    <h3> Создание автора </h3>
    <div class="break-min"></div>
</div>

<div class="row justify-content-center">
    <div class="col-md-4 "> </div>
    <div class="box col-md-4 ">

        <label class="input-label" for="label">Имя</label>
        <div class="input-wrapper">
            <input class="input-title" id="label"  @bind="@name">
        </div>
        <label class="input-label" for="label">Фамилия</label>
        <div class="input-wrapper">
            <input class="input-title" id="label"  @bind="@surname">
        </div>
        <label class="input-label" for="label">Тариф</label>
        <div class="input-wrapper">
            <input class="input-title" id="label"  @bind="@tariff">
        </div>
        <div class="add_customer" @onclick="@createCustomer">Создать</div>
    </div>
    <div class="col-md-4 "> </div>
</div>
@code {
    [Inject]
    ICustomerProvider customerProvider { get; set; }

    private string fullname;
    private string country;
    private string tariff;
    private string name;
    private string surname;
    private string phone;
    private string address;


    private async void createCustomer()
    {
        CustomerDTO newCustomer = new CustomerDTO();
        newCustomer.Name = name;
        newCustomer.Surname = surname;
        newCustomer.Tarriff = tariff;
        newCustomer.Phone = "test";
        newCustomer.Address = "test";
        newCustomer.Cargos = new int[0];
        await customerProvider.Add(newCustomer);
    }
}
